{% from "bootstrap5/form.html" import render_form %} {% block content %} {%
include "header.html" %}

<!-- Page Header -->
<header
  class="masthead"
  style="background-image: url('../static/assets/img/login-bg.jpg')"
>
  <div class="container position-relative px-4 px-lg-5">
    <div class="row gx-4 gx-lg-5 justify-content-center">
      <div class="col-md-10 col-lg-8 col-xl-7">
        <div class="page-heading">
          <h1>Log In</h1>
          <span class="subheading">Welcome Back!</span>
        </div>
      </div>
    </div>
  </div>
</header>

<main class="mb-4">
  <div class="container">
    <div class="row">
      <!-- TODO: add a flash message here for users registering twice -->
      <div class="col-lg-8 col-md-10 mx-auto">
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            {% if category == 'danger' %}
              <div class="alert alert-danger">{{ message }}</div>
            {% endif %}
          {% endfor %}
        {% endif %}
      {% endwith %}
        <!--TODO: render login form here-->
        <form action="{{ url_for('login') }}" method="post" novalidate style="max-width: 80%; padding-left: 155px;">
          {{ form.hidden_tag() }}
          <p>
            <!-- {{ form.email.label }}<br> -->
            {{ form.email(placeholder="Email", class="form-control", required="required") }}<br>
            {% for err in form.email.errors %}
            <span style="color:red;">{{ err }}</span><br>
            {% endfor %}
          </p>
          <p>
            <!-- {{ form.password.label }}<br> -->
            {{ form.password(placeholder="Password", class="form-control", required="required") }}<br>
            {% for err in form.password.errors %}
            <span style="color:red;">{{ err }}</span><br>
            {% endfor %}
          </p>
          <p>{{ form.submit(class="btn btn-primary btn-large w-50 mx-auto d-block") }}</p>
        </form>

      </div>
    </div>
  </div>
</main>

{% include "footer.html" %} {% endblock %}
